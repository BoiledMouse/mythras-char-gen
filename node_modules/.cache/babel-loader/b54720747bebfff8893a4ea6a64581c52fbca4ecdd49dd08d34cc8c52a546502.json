{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useCharacter}from'../context/characterContext';import apTable from'../data/tables/actionPoints.json';import dmgTable from'../data/tables/damageModifiers.json';import expTable from'../data/tables/experienceModifiers.json';import healTable from'../data/tables/healingRate.json';import luckTable from'../data/tables/luckPoints.json';import StepWrapper from'../components/StepWrapper';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AttributesStep(){var _dmgTable$find;const{character,updateCharacter}=useCharacter();const[method,setMethod]=useState('roll');const[maxPoints,setMaxPoints]=useState(80);// Base characteristic allocation\nconst initialAlloc={STR:character.STR||3,CON:character.CON||3,DEX:character.DEX||3,POW:character.POW||3,CHA:character.CHA||3,INT:character.INT||8,SIZ:character.SIZ||8};const[alloc,setAlloc]=useState(initialAlloc);const[rolls,setRolls]=useState({});// Sync base alloc with context\nuseEffect(()=>{updateCharacter(alloc);},[alloc]);const sum=vals=>Object.values(vals).reduce((a,b)=>a+b,0);const pointsLeft=maxPoints-sum(alloc);// Derived attributes\nconst actionPoints=(()=>{const t=alloc.INT+alloc.DEX;let e=apTable.find(r=>t>=r.min&&t<=r.max);if(!e){const l=apTable[apTable.length-1];return l.points+Math.floor((t-l.max)/12);}return e.points;})();const damageMod=((_dmgTable$find=dmgTable.find(r=>alloc.STR+alloc.SIZ>=r.min&&alloc.STR+alloc.SIZ<=r.max))===null||_dmgTable$find===void 0?void 0:_dmgTable$find.modifier)||'';const experienceMod=(()=>{let e=expTable.find(r=>alloc.CHA>=r.min&&alloc.CHA<=r.max);if(!e){const l=expTable[expTable.length-1];return l.modifier+Math.floor((alloc.CHA-l.max)/6);}return e.modifier;})();const healingRate=(()=>{let e=healTable.find(r=>alloc.CON>=r.min&&alloc.CON<=r.max);if(!e){const l=healTable[healTable.length-1];return l.rate+Math.floor((alloc.CON-l.max)/6);}return e.rate;})();const luckPoints=(()=>{let e=luckTable.find(r=>alloc.POW>=r.min&&alloc.POW<=r.max);if(!e){const l=luckTable[luckTable.length-1];return l.points+Math.floor((alloc.POW-l.max)/6);}return e.points;})();const initiative=Math.floor((alloc.INT+alloc.DEX)/2);const magicPoints=alloc.POW;const hpPerLoc=alloc.CON+alloc.SIZ;const movement='6m';// Sync derived attributes with context\nuseEffect(()=>{updateCharacter({actionPoints,damageMod,xpMod:experienceMod,healingRate,initiativeBonus:initiative,luckPoints,movementRate:movement,magicPoints,hpPerLoc});},[actionPoints,damageMod,experienceMod,healingRate,initiative,luckPoints,movement,magicPoints,hpPerLoc]);// Dice helpers\nconst rollDie=()=>Math.ceil(Math.random()*6);const roll3d6=()=>[rollDie(),rollDie(),rollDie()];const roll2d6p6=()=>[rollDie(),rollDie()].concat([6]);const rollAttributes=()=>{const newRolls={STR:roll3d6(),CON:roll3d6(),DEX:roll3d6(),POW:roll3d6(),CHA:roll3d6(),INT:roll2d6p6(),SIZ:roll2d6p6()};const newAlloc={};Object.entries(newRolls).forEach(_ref=>{let[k,arr]=_ref;newAlloc[k]=arr.reduce((a,b)=>a+b,0);});setRolls(newRolls);setAlloc(newAlloc);};const handleChange=(attr,delta)=>{setAlloc(prev=>{const min=['INT','SIZ'].includes(attr)?8:3;let v=(prev[attr]||0)+delta;if(v<min)v=min;if(v>18)v=18;if(v-prev[attr]>pointsLeft)v=prev[attr];return{...prev,[attr]:v};});};return/*#__PURE__*/_jsx(StepWrapper,{title:\"Attributes\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"inline-flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",checked:method==='roll',onChange:()=>setMethod('roll'),className:\"mr-2\"}),\"Roll Attributes\"]}),/*#__PURE__*/_jsxs(\"label\",{className:\"inline-flex items-center ml-6\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",checked:method==='point',onChange:()=>setMethod('point'),className:\"mr-2\"}),\"Point Buy\"]}),method==='point'&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Total Points:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:0,value:maxPoints,onChange:e=>setMaxPoints(+e.target.value||0),className:\"form-control w-20 ml-2 inline-block\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-4\",children:[\"Left: \",pointsLeft]})]})]}),method==='roll'?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:rollAttributes,className:\"btn btn-primary\",children:\"Roll\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-4\",children:Object.keys(alloc).map(k=>{var _rolls$k;return/*#__PURE__*/_jsxs(\"div\",{className:\"border border-wood p-3 rounded panel-parchment\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold\",children:k}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm\",children:[\"Rolled: \",((_rolls$k=rolls[k])===null||_rolls$k===void 0?void 0:_rolls$k.join(' + '))||'-']}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl font-bold\",children:alloc[k]})]},k);})})]}):/*#__PURE__*//* Point-buy UI */_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-4\",children:[Object.keys(alloc).map(k=>{const min=['INT','SIZ'].includes(k)?8:3;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-12 font-medium\",children:k}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleChange(k,-1),className:\"btn btn-secondary px-2\",children:\"-\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:min,max:18,value:alloc[k],readOnly:true,className:\"form-control mx-2 w-16 text-center\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleChange(k,1),className:\"btn btn-secondary px-2\",children:\"+\"})]},k);}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-full mt-2\",children:[\"Points Left: \",pointsLeft]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pt-4 border-t border-wood\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold\",children:\"Derived Attributes\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mt-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Action Points: \",actionPoints]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Damage Mod: \",damageMod]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"XP Mod: \",experienceMod>=0?`+${experienceMod}`:experienceMod]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Healing Rate: \",healingRate]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Movement: \",movement]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"HP/Loc: \",hpPerLoc]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Initiative: \",initiative]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Magic Points: \",magicPoints]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Luck Points: \",luckPoints]})]})]})]})});}","map":{"version":3,"names":["React","useState","useEffect","useCharacter","apTable","dmgTable","expTable","healTable","luckTable","StepWrapper","jsx","_jsx","jsxs","_jsxs","AttributesStep","_dmgTable$find","character","updateCharacter","method","setMethod","maxPoints","setMaxPoints","initialAlloc","STR","CON","DEX","POW","CHA","INT","SIZ","alloc","setAlloc","rolls","setRolls","sum","vals","Object","values","reduce","a","b","pointsLeft","actionPoints","t","e","find","r","min","max","l","length","points","Math","floor","damageMod","modifier","experienceMod","healingRate","rate","luckPoints","initiative","magicPoints","hpPerLoc","movement","xpMod","initiativeBonus","movementRate","rollDie","ceil","random","roll3d6","roll2d6p6","concat","rollAttributes","newRolls","newAlloc","entries","forEach","_ref","k","arr","handleChange","attr","delta","prev","includes","v","title","children","className","type","checked","onChange","value","target","onClick","keys","map","_rolls$k","join","readOnly"],"sources":["/workspaces/mythras-char-gen/src/steps/AttributesStep.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useCharacter } from '../context/characterContext';\nimport apTable from '../data/tables/actionPoints.json';\nimport dmgTable from '../data/tables/damageModifiers.json';\nimport expTable from '../data/tables/experienceModifiers.json';\nimport healTable from '../data/tables/healingRate.json';\nimport luckTable from '../data/tables/luckPoints.json';\nimport StepWrapper from '../components/StepWrapper';\n\nexport default function AttributesStep() {\n  const { character, updateCharacter } = useCharacter();\n  const [method, setMethod] = useState('roll');\n  const [maxPoints, setMaxPoints] = useState(80);\n\n  // Base characteristic allocation\n  const initialAlloc = {\n    STR: character.STR || 3,\n    CON: character.CON || 3,\n    DEX: character.DEX || 3,\n    POW: character.POW || 3,\n    CHA: character.CHA || 3,\n    INT: character.INT || 8,\n    SIZ: character.SIZ || 8,\n  };\n  const [alloc, setAlloc] = useState(initialAlloc);\n  const [rolls, setRolls] = useState({});\n\n  // Sync base alloc with context\n  useEffect(() => {\n    updateCharacter(alloc);\n  }, [alloc]);\n\n  const sum = vals => Object.values(vals).reduce((a, b) => a + b, 0);\n  const pointsLeft = maxPoints - sum(alloc);\n\n  // Derived attributes\n  const actionPoints = (() => {\n    const t = alloc.INT + alloc.DEX;\n    let e = apTable.find(r => t >= r.min && t <= r.max);\n    if (!e) {\n      const l = apTable[apTable.length - 1];\n      return l.points + Math.floor((t - l.max) / 12);\n    }\n    return e.points;\n  })();\n\n  const damageMod =\n    dmgTable.find(r => alloc.STR + alloc.SIZ >= r.min && alloc.STR + alloc.SIZ <= r.max)\n      ?.modifier || '';\n\n  const experienceMod = (() => {\n    let e = expTable.find(r => alloc.CHA >= r.min && alloc.CHA <= r.max);\n    if (!e) {\n      const l = expTable[expTable.length - 1];\n      return l.modifier + Math.floor((alloc.CHA - l.max) / 6);\n    }\n    return e.modifier;\n  })();\n\n  const healingRate = (() => {\n    let e = healTable.find(r => alloc.CON >= r.min && alloc.CON <= r.max);\n    if (!e) {\n      const l = healTable[healTable.length - 1];\n      return l.rate + Math.floor((alloc.CON - l.max) / 6);\n    }\n    return e.rate;\n  })();\n\n  const luckPoints = (() => {\n    let e = luckTable.find(r => alloc.POW >= r.min && alloc.POW <= r.max);\n    if (!e) {\n      const l = luckTable[luckTable.length - 1];\n      return l.points + Math.floor((alloc.POW - l.max) / 6);\n    }\n    return e.points;\n  })();\n\n  const initiative = Math.floor((alloc.INT + alloc.DEX) / 2);\n  const magicPoints = alloc.POW;\n  const hpPerLoc = alloc.CON + alloc.SIZ;\n  const movement = '6m';\n\n  // Sync derived attributes with context\n  useEffect(() => {\n    updateCharacter({\n      actionPoints,\n      damageMod,\n      xpMod: experienceMod,\n      healingRate,\n      initiativeBonus: initiative,\n      luckPoints,\n      movementRate: movement,\n      magicPoints,\n      hpPerLoc\n    });\n  }, [\n    actionPoints,\n    damageMod,\n    experienceMod,\n    healingRate,\n    initiative,\n    luckPoints,\n    movement,\n    magicPoints,\n    hpPerLoc\n  ]);\n\n  // Dice helpers\n  const rollDie = () => Math.ceil(Math.random() * 6);\n  const roll3d6 = () => [rollDie(), rollDie(), rollDie()];\n  const roll2d6p6 = () => [rollDie(), rollDie()].concat([6]);\n  const rollAttributes = () => {\n    const newRolls = {\n      STR: roll3d6(),\n      CON: roll3d6(),\n      DEX: roll3d6(),\n      POW: roll3d6(),\n      CHA: roll3d6(),\n      INT: roll2d6p6(),\n      SIZ: roll2d6p6(),\n    };\n    const newAlloc = {};\n    Object.entries(newRolls).forEach(([k, arr]) => {\n      newAlloc[k] = arr.reduce((a, b) => a + b, 0);\n    });\n    setRolls(newRolls);\n    setAlloc(newAlloc);\n  };\n\n  const handleChange = (attr, delta) => {\n    setAlloc(prev => {\n      const min = ['INT', 'SIZ'].includes(attr) ? 8 : 3;\n      let v = (prev[attr] || 0) + delta;\n      if (v < min) v = min;\n      if (v > 18) v = 18;\n      if (v - prev[attr] > pointsLeft) v = prev[attr];\n      return { ...prev, [attr]: v };\n    });\n  };\n\n  return (\n    <StepWrapper title=\"Attributes\">\n      <div className=\"space-y-6\">\n        {/* Method toggle */}\n        <div>\n          <label className=\"inline-flex items-center\">\n            <input\n              type=\"radio\"\n              checked={method === 'roll'}\n              onChange={() => setMethod('roll')}\n              className=\"mr-2\"\n            />\n            Roll Attributes\n          </label>\n          <label className=\"inline-flex items-center ml-6\">\n            <input\n              type=\"radio\"\n              checked={method === 'point'}\n              onChange={() => setMethod('point')}\n              className=\"mr-2\"\n            />\n            Point Buy\n          </label>\n\n          {method === 'point' && (\n            <div className=\"mt-2\">\n              <label>Total Points:</label>\n              <input\n                type=\"number\"\n                min={0}\n                value={maxPoints}\n                onChange={e => setMaxPoints(+e.target.value || 0)}\n                className=\"form-control w-20 ml-2 inline-block\"\n              />\n              <span className=\"ml-4\">Left: {pointsLeft}</span>\n            </div>\n          )}\n        </div>\n\n        {/* Rolling UI */}\n        {method === 'roll' ? (\n          <div className=\"space-y-4\">\n            <button onClick={rollAttributes} className=\"btn btn-primary\">Roll</button>\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n              {Object.keys(alloc).map(k => (\n                <div key={k} className=\"border border-wood p-3 rounded panel-parchment\">\n                  <h4 className=\"font-semibold\">{k}</h4>\n                  <p className=\"text-sm\">Rolled: {rolls[k]?.join(' + ') || '-'}</p>\n                  <p className=\"text-xl font-bold\">{alloc[k]}</p>\n                </div>\n              ))}\n            </div>\n          </div>\n        ) : (\n          /* Point-buy UI */\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n            {Object.keys(alloc).map(k => {\n              const min = ['INT', 'SIZ'].includes(k) ? 8 : 3;\n              return (\n                <div key={k} className=\"flex items-center\">\n                  <span className=\"w-12 font-medium\">{k}</span>\n                  <button onClick={() => handleChange(k, -1)} className=\"btn btn-secondary px-2\">-</button>\n                  <input\n                    type=\"number\"\n                    min={min}\n                    max={18}\n                    value={alloc[k]}\n                    readOnly\n                    className=\"form-control mx-2 w-16 text-center\"\n                  />\n                  <button onClick={() => handleChange(k, 1)} className=\"btn btn-secondary px-2\">+</button>\n                </div>\n              );\n            })}\n            <div className=\"col-span-full mt-2\">Points Left: {pointsLeft}</div>\n          </div>\n        )}\n\n        {/* Derived display */}\n        <div className=\"pt-4 border-t border-wood\">\n          <h3 className=\"font-semibold\">Derived Attributes</h3>\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mt-2\">\n            <div>Action Points: {actionPoints}</div>\n            <div>Damage Mod: {damageMod}</div>\n            <div>XP Mod: {experienceMod >= 0 ? `+${experienceMod}` : experienceMod}</div>\n            <div>Healing Rate: {healingRate}</div>\n            <div>Movement: {movement}</div>\n            <div>HP/Loc: {hpPerLoc}</div>\n            <div>Initiative: {initiative}</div>\n            <div>Magic Points: {magicPoints}</div>\n            <div>Luck Points: {luckPoints}</div>\n          </div>\n        </div>\n      </div>\n    </StepWrapper>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}