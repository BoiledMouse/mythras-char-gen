{"ast":null,"code":"// src/steps/ReviewStep.jsx\nimport React from'react';import{useCharacter}from'../context/characterContext';import skillsData from'../data/skills.json';import equipmentData from'../data/equipment.json';import StepWrapper from'../components/StepWrapper';import{Document,Page,Text,View,StyleSheet,PDFDownloadLink}from'@react-pdf/renderer';// --- HP calculation tables & helper ---\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const thresholds=[5,10,15,20,25,30,35,40];const hpTable={Head:[1,2,3,4,5,6,7,8],Chest:[3,4,5,6,7,8,9,10],Abdomen:[2,3,4,5,6,7,8,9],'Each Arm':[1,1,2,3,4,5,6,7],Leg:[1,2,3,4,5,6,7,8]};const calcHp=(CON,SIZ,key)=>{const sum=(Number(CON)||0)+(Number(SIZ)||0);let idx=thresholds.findIndex(t=>sum<=t);if(idx===-1)idx=thresholds.length-1;let val=hpTable[key][idx];if(sum>thresholds[thresholds.length-1]){const extra=Math.floor((sum-thresholds[thresholds.length-1]-1)/5)+1;val+=extra;}return val;};export function ReviewStep(){const{character,updateCharacter}=useCharacter();const handleChange=e=>{const{name,value}=e.target;updateCharacter({[name]:value});};// --- Skill categories ---\nconst resistanceList=['Brawn','Endurance','Evade','Willpower'];const allMagicNames=[...(skillsData.folkMagic||[]).map(s=>s.name),...(skillsData.animism||[]).map(s=>s.name),...(skillsData.mysticism||[]).map(s=>s.name),...(skillsData.sorcery||[]).map(s=>s.name),...(skillsData.theism||[]).map(s=>s.name)];const learnedNames=character.skills?Object.keys(character.skills):[];const selected=character.selectedSkills||{};const standardDisplayed=skillsData.standard.map(s=>s.name).filter(n=>!resistanceList.includes(n)&&n!=='Unarmed');const resistancesDisplayed=resistanceList.filter(n=>learnedNames.includes(n));const combatDisplayed=[...new Set([...(selected.combat||[]),'Unarmed'])];const professionalDisplayed=selected.professional||[];const magicDisplayed=allMagicNames.filter(n=>learnedNames.includes(n));// --- Equipment & silver ---\nconst equipmentAlloc=character.equipmentAlloc||{};const startingSilver=Number(character.startingSilver)||0;const totalSpent=Object.entries(equipmentAlloc).reduce((sum,_ref)=>{let[name,qty]=_ref;const item=equipmentData.find(e=>e.name===name);return sum+((item===null||item===void 0?void 0:item.cost)||0)*qty;},0);const silverRemaining=startingSilver-totalSpent;const equipmentList=Object.entries(equipmentAlloc).filter(_ref2=>{let[,qty]=_ref2;return qty>0;}).map(_ref3=>{let[name,qty]=_ref3;return`${name} x${qty}`;});// --- Markdown export ---\nconst generateMarkdown=()=>{const lines=[];lines.push(`# ${character.characterName||'Character'}`);lines.push(`**Player**: ${character.playerName||''}`);lines.push(`**Sex**: ${character.sex||''}`);lines.push(`**Age**: ${character.age||''}`);lines.push('');['Species','Frame','Height','Weight','Career','Culture','Social Class'].forEach(label=>{const key=label.charAt(0).toLowerCase()+label.slice(1).replace(/ /g,'');lines.push(`**${label}**: ${character[key]||''}`);});lines.push('');lines.push('## Characteristics');['STR','CON','SIZ','DEX','INT','POW','CHA'].forEach(stat=>lines.push(`- **${stat}**: ${character[stat]||''}`));lines.push('');lines.push('## Attributes');['actionPoints','damageMod','xpMod','healingRate','initiativeBonus','luckPoints','movementRate'].forEach(label=>{const pretty=label.replace(/([A-Z])/g,' $1').replace(/^./,c=>c.toUpperCase());lines.push(`- **${pretty}**: ${character[label]||''}`);});lines.push('');lines.push('## Hit Points per Location');[['Head','Head'],['Chest','Chest'],['Abdomen','Abdomen'],['Each Arm','Left Arm'],['Each Arm','Right Arm'],['Leg','Left Leg'],['Leg','Right Leg']].forEach(_ref4=>{let[k,loc]=_ref4;lines.push(`- **${loc}**: ${calcHp(character.CON,character.SIZ,k)}`);});lines.push('');lines.push('## Background, Community & Family');lines.push(character.backgroundNotes||'');lines.push('');lines.push('## Contacts, Allies & Enemies');lines.push(character.contacts||'');lines.push('');lines.push('## Money & Equipment');lines.push(`- **Silver Remaining**: ${silverRemaining} SP`);if(equipmentList.length){lines.push('- **Equipment**:');equipmentList.forEach(item=>lines.push(`  - ${item}`));}lines.push('');lines.push('## Skills');if(standardDisplayed.length){lines.push('### Standard Skills');standardDisplayed.forEach(n=>{var _character$skills;return lines.push(`- ${n}: ${((_character$skills=character.skills)===null||_character$skills===void 0?void 0:_character$skills[n])||0}%`);});lines.push('');}if(resistancesDisplayed.length){lines.push('### Resistances');resistancesDisplayed.forEach(n=>{var _character$skills2;return lines.push(`- ${n}: ${((_character$skills2=character.skills)===null||_character$skills2===void 0?void 0:_character$skills2[n])||0}%`);});lines.push('');}if(combatDisplayed.length){lines.push('### Combat Skills');combatDisplayed.forEach(n=>{var _character$skills3;return lines.push(`- ${n}: ${((_character$skills3=character.skills)===null||_character$skills3===void 0?void 0:_character$skills3[n])||0}%`);});lines.push('');}if(professionalDisplayed.length){lines.push('### Professional Skills');professionalDisplayed.forEach(n=>{var _character$skills4;return lines.push(`- ${n}: ${((_character$skills4=character.skills)===null||_character$skills4===void 0?void 0:_character$skills4[n])||0}%`);});lines.push('');}if(magicDisplayed.length){lines.push('### Magic Skills');magicDisplayed.forEach(n=>{var _character$skills5;return lines.push(`- ${n}: ${((_character$skills5=character.skills)===null||_character$skills5===void 0?void 0:_character$skills5[n])||0}%`);});lines.push('');}return lines.join('\\n');};const exportMarkdown=()=>{const md=generateMarkdown();const blob=new Blob([md],{type:'text/markdown'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=`${character.characterName||'character'}.md`;a.click();URL.revokeObjectURL(url);};return/*#__PURE__*/_jsxs(StepWrapper,{title:\"Review\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-4 mb-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:exportMarkdown,className:\"btn btn-secondary\",children:\"Export Markdown\"}),/*#__PURE__*/_jsx(PDFDownloadLink,{document:/*#__PURE__*/_jsx(CharacterSheetDocument,{character:character}),fileName:`${character.characterName||'character'}.pdf`,className:\"btn btn-secondary\",children:_ref5=>{let{loading,error}=_ref5;return loading?'Generating PDF…':error?'Error':'Export PDF';}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"panel-parchment max-w-7xl mx-auto p-6\",children:[/*#__PURE__*/_jsx(\"section\",{className:\"grid grid-cols-4 gap-4 mb-6\",children:[{key:'playerName',label:'Player'},{key:'characterName',label:'Character'},{key:'sex',label:'Sex'},{key:'age',label:'Age'}].map(f=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:f.label}),/*#__PURE__*/_jsx(\"input\",{name:f.key,value:character[f.key]||'',onChange:handleChange,className:\"form-control mt-1\"})]},f.key))}),/*#__PURE__*/_jsx(\"section\",{className:\"grid grid-cols-4 gap-4 mb-6\",children:[{key:'species',label:'Species'},{key:'frame',label:'Frame'},{key:'height',label:'Height'},{key:'weight',label:'Weight'},{key:'career',label:'Career'},{key:'culture',label:'Culture'},{key:'socialClass',label:'Social Class'}].map(f=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:f.label}),/*#__PURE__*/_jsx(\"input\",{name:f.key,value:character[f.key]||'',onChange:handleChange,className:\"form-control mt-1\"})]},f.key))}),/*#__PURE__*/_jsxs(\"section\",{className:\"grid grid-cols-2 gap-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"Characteristics\"}),['STR','CON','SIZ','DEX','INT','POW','CHA'].map(s=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-20 font-medium\",children:s}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-100 border border-yellow-300 rounded w-32 p-2 text-center\",children:character[s]||''})]},s))]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"Attributes\"}),['actionPoints','damageMod','xpMod','healingRate','initiativeBonus','luckPoints','movementRate'].map(key=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-32 font-medium\",children:key.replace(/([A-Z])/g,' $1').replace(/^./,c=>c.toUpperCase())}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-100 border border-yellow-300 rounded w-32 p-2 text-center\",children:character[key]!=null?character[key]:''})]},key))]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"HP per Location\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-3 gap-4\",children:[['Head','Head'],['Chest','Chest'],['Abdomen','Abdomen'],['Each Arm','Left Arm'],['Each Arm','Right Arm'],['Leg','Left Leg'],['Leg','Right Leg']].map(_ref6=>{let[k,label]=_ref6;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-2 border rounded\",children:[/*#__PURE__*/_jsx(\"span\",{children:label}),/*#__PURE__*/_jsx(\"span\",{children:calcHp(character.CON,character.SIZ,k)})]},label);})})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"grid grid-cols-3 gap-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block font-semibold mb-1\",children:\"Background, Community & Family\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"backgroundNotes\",value:character.backgroundNotes||'',onChange:handleChange,rows:4,className:\"form-control mt-1\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block font-semibold mb-1\",children:\"Contacts, Allies & Enemies\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"contacts\",value:character.contacts||'',onChange:handleChange,rows:4,className:\"form-control mt-1\"})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"grid grid-cols-3 gap-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"Silver Remaining\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-100 border border-yellow-300 rounded w-32 p-2 text-center\",children:[silverRemaining,\" SP\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"Equipment\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc list-inside\",children:equipmentList.length?equipmentList.map((i,j)=>/*#__PURE__*/_jsx(\"li\",{children:i},j)):/*#__PURE__*/_jsx(\"li\",{children:\"No equipment selected\"})})]})]}),/*#__PURE__*/_jsx(\"section\",{className:\"p-6 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"Standard Skills\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-4\",style:{gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))'},children:standardDisplayed.map(n=>{var _character$skills6;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center p-2 border rounded min-w-0\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"flex-1 font-medium break-words\",children:n}),/*#__PURE__*/_jsxs(\"span\",{className:\"flex-none ml-2\",children:[((_character$skills6=character.skills)===null||_character$skills6===void 0?void 0:_character$skills6[n])||0,\"%\"]})]},n);})})]}),resistancesDisplayed.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"Resistances\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-4\",style:{gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))'},children:resistancesDisplayed.map(n=>{var _character$skills7;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center p-2 border rounded min-w-0\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"flex-1 font-medium break-words\",children:n}),/*#__PURE__*/_jsxs(\"span\",{className:\"flex-none ml-2\",children:[((_character$skills7=character.skills)===null||_character$skills7===void 0?void 0:_character$skills7[n])||0,\"%\"]})]},n);})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"Combat Skills\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-4\",style:{gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))'},children:combatDisplayed.length>0?combatDisplayed.map(n=>{var _character$skills8;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center p-2 border rounded min-w-0\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"flex-1 font-medium break-words\",children:n}),/*#__PURE__*/_jsxs(\"span\",{className:\"flex-none ml-2\",children:[((_character$skills8=character.skills)===null||_character$skills8===void 0?void 0:_character$skills8[n])||0,\"%\"]})]},n);}):/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"None learned\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"Professional Skills\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-4\",style:{gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))'},children:professionalDisplayed.length>0?professionalDisplayed.map(n=>{var _character$skills9;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center p-2 border rounded min-w-0\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"flex-1 font-medium break-words\",children:n}),/*#__PURE__*/_jsxs(\"span\",{className:\"flex-none ml-2\",children:[((_character$skills9=character.skills)===null||_character$skills9===void 0?void 0:_character$skills9[n])||0,\"%\"]})]},n);}):/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"None learned\"})})]}),magicDisplayed.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"Magic Skills\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-4\",style:{gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))'},children:magicDisplayed.map(n=>{var _character$skills10;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center p-2 border rounded min-w-0\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"flex-1 font-medium break-words\",children:n}),/*#__PURE__*/_jsxs(\"span\",{className:\"flex-none ml-2\",children:[((_character$skills10=character.skills)===null||_character$skills10===void 0?void 0:_character$skills10[n])||0,\"%\"]})]},n);})})]})]})})]})]});}// --- Styles for PDF ---\nconst styles=StyleSheet.create({page:{padding:24,fontSize:10,fontFamily:'Helvetica'},header:{fontSize:16,marginBottom:8,textAlign:'center',textTransform:'uppercase'},section:{marginBottom:12},row:{flexDirection:'row',flexWrap:'wrap',marginBottom:4},label:{width:'25%',fontWeight:'bold'},value:{width:'25%'},halfSection:{width:'50%'},skillsGrid:{flexDirection:'row',flexWrap:'wrap'},skillItem:{width:'33%',flexDirection:'row',marginBottom:2}});// --- PDF Document Component ---\nconst CharacterSheetDocument=_ref7=>{var _character$selectedSk,_character$selectedSk2;let{character}=_ref7;// recompute PDF-specific data:\nconst resistanceList=['Brawn','Endurance','Evade','Willpower'];const allMagicNames=[...(skillsData.folkMagic||[]).map(s=>s.name),...(skillsData.animism||[]).map(s=>s.name),...(skillsData.mysticism||[]).map(s=>s.name),...(skillsData.sorcery||[]).map(s=>s.name),...(skillsData.theism||[]).map(s=>s.name)];const learned=character.skills?Object.keys(character.skills):[];const standard=skillsData.standard.map(s=>s.name).filter(n=>!resistanceList.includes(n)&&n!=='Unarmed');const resistances=resistanceList.filter(n=>learned.includes(n));const combat=((_character$selectedSk=character.selectedSkills)===null||_character$selectedSk===void 0?void 0:_character$selectedSk.combat)||[];const prof=((_character$selectedSk2=character.selectedSkills)===null||_character$selectedSk2===void 0?void 0:_character$selectedSk2.professional)||[];const magic=allMagicNames.filter(n=>learned.includes(n));const alloc=character.equipmentAlloc||{};const startSP=Number(character.startingSilver)||0;const spent=Object.entries(alloc).reduce((sum,_ref8)=>{let[n,q]=_ref8;const item=equipmentData.find(e=>e.name===n);return sum+((item===null||item===void 0?void 0:item.cost)||0)*q;},0);const silverLeft=startSP-spent;const equipList=Object.entries(alloc).filter(_ref9=>{let[,q]=_ref9;return q>0;}).map(_ref10=>{let[n,q]=_ref10;return`${n} x${q}`;});return/*#__PURE__*/_jsx(Document,{children:/*#__PURE__*/_jsxs(Page,{size:\"A4\",style:styles.page,children:[/*#__PURE__*/_jsx(Text,{style:styles.header,children:character.characterName||'Character Sheet'}),/*#__PURE__*/_jsxs(View,{style:styles.section,children:[/*#__PURE__*/_jsxs(View,{style:styles.row,children:[/*#__PURE__*/_jsx(Text,{style:styles.label,children:\"Player:\"}),/*#__PURE__*/_jsx(Text,{style:styles.value,children:character.playerName}),/*#__PURE__*/_jsx(Text,{style:styles.label,children:\"Age:\"}),/*#__PURE__*/_jsx(Text,{style:styles.value,children:character.age}),/*#__PURE__*/_jsx(Text,{style:styles.label,children:\"Sex:\"}),/*#__PURE__*/_jsx(Text,{style:styles.value,children:character.sex})]}),/*#__PURE__*/_jsxs(View,{style:styles.row,children:[/*#__PURE__*/_jsx(Text,{style:styles.label,children:\"Species:\"}),/*#__PURE__*/_jsx(Text,{style:styles.value,children:character.species}),/*#__PURE__*/_jsx(Text,{style:styles.label,children:\"Career:\"}),/*#__PURE__*/_jsx(Text,{style:styles.value,children:character.career}),/*#__PURE__*/_jsx(Text,{style:styles.label,children:\"Culture:\"}),/*#__PURE__*/_jsx(Text,{style:styles.value,children:character.culture})]})]}),/*#__PURE__*/_jsxs(View,{style:styles.section,children:[/*#__PURE__*/_jsx(Text,{style:styles.label,children:\"Characteristics:\"}),/*#__PURE__*/_jsx(View,{style:styles.row,children:['STR','CON','SIZ','DEX','INT','POW','CHA'].map(stat=>/*#__PURE__*/_jsxs(Text,{style:[styles.halfSection,{marginRight:8}],children:[stat,\": \",character[stat]]},stat))})]}),/*#__PURE__*/_jsxs(View,{style:styles.section,children:[/*#__PURE__*/_jsx(Text,{style:styles.label,children:\"Attributes:\"}),/*#__PURE__*/_jsx(View,{style:styles.row,children:[{label:'AP',key:'actionPoints'},{label:'DM',key:'damageMod'},{label:'XP Mod',key:'xpMod'},{label:'Heal',key:'healingRate'},{label:'Init',key:'initiativeBonus'},{label:'Luck',key:'luckPoints'},{label:'Move',key:'movementRate'}].map(_ref11=>{let{label,key}=_ref11;return/*#__PURE__*/_jsxs(Text,{style:[styles.halfSection,{marginRight:8}],children:[label,\": \",character[key]]},key);})})]}),/*#__PURE__*/_jsxs(View,{style:styles.section,children:[/*#__PURE__*/_jsx(Text,{style:styles.label,children:\"HP per Location:\"}),/*#__PURE__*/_jsx(View,{style:styles.row,children:[['Head','Head'],['Chest','Chest'],['Abdomen','Abdomen'],['Each Arm','Left Arm'],['Each Arm','Right Arm'],['Leg','Left Leg'],['Leg','Right Leg']].map(_ref12=>{let[k,label]=_ref12;return/*#__PURE__*/_jsxs(Text,{style:[styles.halfSection,{marginRight:8}],children:[label,\": \",calcHp(character.CON,character.SIZ,k)]},label);})})]}),/*#__PURE__*/_jsxs(View,{style:styles.section,children:[/*#__PURE__*/_jsx(Text,{style:styles.label,children:\"Silver Remaining:\"}),/*#__PURE__*/_jsxs(Text,{style:styles.value,children:[silverLeft,\" SP\"]}),equipList.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Text,{style:[styles.label,{marginTop:4}],children:\"Equipment:\"}),equipList.map((item,i)=>/*#__PURE__*/_jsxs(Text,{style:styles.value,children:[\"\\u2022 \",item]},i))]})]}),/*#__PURE__*/_jsxs(View,{style:styles.section,children:[/*#__PURE__*/_jsx(Text,{style:styles.label,children:\"Skills:\"}),/*#__PURE__*/_jsxs(View,{style:styles.skillsGrid,children:[standard.map(n=>{var _character$skills11;return/*#__PURE__*/_jsxs(View,{style:styles.skillItem,children:[/*#__PURE__*/_jsx(Text,{style:{width:'70%'},children:n}),/*#__PURE__*/_jsxs(Text,{style:{width:'30%'},children:[(_character$skills11=character.skills)===null||_character$skills11===void 0?void 0:_character$skills11[n],\"%\"]})]},n);}),resistances.map(n=>{var _character$skills12;return/*#__PURE__*/_jsxs(View,{style:styles.skillItem,children:[/*#__PURE__*/_jsx(Text,{style:{width:'70%'},children:n}),/*#__PURE__*/_jsxs(Text,{style:{width:'30%'},children:[(_character$skills12=character.skills)===null||_character$skills12===void 0?void 0:_character$skills12[n],\"%\"]})]},n);}),combat.map(n=>{var _character$skills13;return/*#__PURE__*/_jsxs(View,{style:styles.skillItem,children:[/*#__PURE__*/_jsx(Text,{style:{width:'70%'},children:n}),/*#__PURE__*/_jsxs(Text,{style:{width:'30%'},children:[(_character$skills13=character.skills)===null||_character$skills13===void 0?void 0:_character$skills13[n],\"%\"]})]},n);}),prof.map(n=>{var _character$skills14;return/*#__PURE__*/_jsxs(View,{style:styles.skillItem,children:[/*#__PURE__*/_jsx(Text,{style:{width:'70%'},children:n}),/*#__PURE__*/_jsxs(Text,{style:{width:'30%'},children:[(_character$skills14=character.skills)===null||_character$skills14===void 0?void 0:_character$skills14[n],\"%\"]})]},n);}),magic.map(n=>{var _character$skills15;return/*#__PURE__*/_jsxs(View,{style:styles.skillItem,children:[/*#__PURE__*/_jsx(Text,{style:{width:'70%'},children:n}),/*#__PURE__*/_jsxs(Text,{style:{width:'30%'},children:[(_character$skills15=character.skills)===null||_character$skills15===void 0?void 0:_character$skills15[n],\"%\"]})]},n);})]})]}),/*#__PURE__*/_jsxs(View,{style:styles.section,children:[/*#__PURE__*/_jsx(Text,{style:styles.label,children:\"Background:\"}),/*#__PURE__*/_jsx(Text,{style:styles.value,children:character.backgroundNotes}),/*#__PURE__*/_jsx(Text,{style:[styles.label,{marginTop:4}],children:\"Contacts:\"}),/*#__PURE__*/_jsx(Text,{style:styles.value,children:character.contacts})]})]})});};","map":{"version":3,"names":["React","useCharacter","skillsData","equipmentData","StepWrapper","Document","Page","Text","View","StyleSheet","PDFDownloadLink","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","thresholds","hpTable","Head","Chest","Abdomen","Leg","calcHp","CON","SIZ","key","sum","Number","idx","findIndex","t","length","val","extra","Math","floor","ReviewStep","character","updateCharacter","handleChange","e","name","value","target","resistanceList","allMagicNames","folkMagic","map","s","animism","mysticism","sorcery","theism","learnedNames","skills","Object","keys","selected","selectedSkills","standardDisplayed","standard","filter","n","includes","resistancesDisplayed","combatDisplayed","Set","combat","professionalDisplayed","professional","magicDisplayed","equipmentAlloc","startingSilver","totalSpent","entries","reduce","_ref","qty","item","find","cost","silverRemaining","equipmentList","_ref2","_ref3","generateMarkdown","lines","push","characterName","playerName","sex","age","forEach","label","charAt","toLowerCase","slice","replace","stat","pretty","c","toUpperCase","_ref4","k","loc","backgroundNotes","contacts","_character$skills","_character$skills2","_character$skills3","_character$skills4","_character$skills5","join","exportMarkdown","md","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","title","children","className","onClick","CharacterSheetDocument","fileName","_ref5","loading","error","f","onChange","_ref6","rows","i","j","style","gridTemplateColumns","_character$skills6","_character$skills7","_character$skills8","_character$skills9","_character$skills10","styles","create","page","padding","fontSize","fontFamily","header","marginBottom","textAlign","textTransform","section","row","flexDirection","flexWrap","width","fontWeight","halfSection","skillsGrid","skillItem","_ref7","_character$selectedSk","_character$selectedSk2","learned","resistances","prof","magic","alloc","startSP","spent","_ref8","q","silverLeft","equipList","_ref9","_ref10","size","species","career","culture","marginRight","_ref11","_ref12","marginTop","_character$skills11","_character$skills12","_character$skills13","_character$skills14","_character$skills15"],"sources":["/workspaces/mythras-char-gen/src/steps/ReviewStep.jsx"],"sourcesContent":["// src/steps/ReviewStep.jsx\nimport React from 'react';\nimport { useCharacter } from '../context/characterContext';\nimport skillsData from '../data/skills.json';\nimport equipmentData from '../data/equipment.json';\nimport StepWrapper from '../components/StepWrapper';\nimport {\n  Document,\n  Page,\n  Text,\n  View,\n  StyleSheet,\n  PDFDownloadLink\n} from '@react-pdf/renderer';\n\n// --- HP calculation tables & helper ---\nconst thresholds = [5, 10, 15, 20, 25, 30, 35, 40];\nconst hpTable = {\n  Head: [1, 2, 3, 4, 5, 6, 7, 8],\n  Chest: [3, 4, 5, 6, 7, 8, 9, 10],\n  Abdomen: [2, 3, 4, 5, 6, 7, 8, 9],\n  'Each Arm': [1, 1, 2, 3, 4, 5, 6, 7],\n  Leg: [1, 2, 3, 4, 5, 6, 7, 8],\n};\nconst calcHp = (CON, SIZ, key) => {\n  const sum = (Number(CON) || 0) + (Number(SIZ) || 0);\n  let idx = thresholds.findIndex(t => sum <= t);\n  if (idx === -1) idx = thresholds.length - 1;\n  let val = hpTable[key][idx];\n  if (sum > thresholds[thresholds.length - 1]) {\n    const extra =\n      Math.floor((sum - thresholds[thresholds.length - 1] - 1) / 5) + 1;\n    val += extra;\n  }\n  return val;\n};\n\nexport function ReviewStep() {\n  const { character, updateCharacter } = useCharacter();\n\n  const handleChange = e => {\n    const { name, value } = e.target;\n    updateCharacter({ [name]: value });\n  };\n\n  // --- Skill categories ---\n  const resistanceList = ['Brawn', 'Endurance', 'Evade', 'Willpower'];\n  const allMagicNames = [\n    ...(skillsData.folkMagic || []).map(s => s.name),\n    ...(skillsData.animism || []).map(s => s.name),\n    ...(skillsData.mysticism || []).map(s => s.name),\n    ...(skillsData.sorcery || []).map(s => s.name),\n    ...(skillsData.theism || []).map(s => s.name),\n  ];\n  const learnedNames = character.skills ? Object.keys(character.skills) : [];\n  const selected = character.selectedSkills || {};\n\n  const standardDisplayed = skillsData.standard\n    .map(s => s.name)\n    .filter(n => !resistanceList.includes(n) && n !== 'Unarmed');\n  const resistancesDisplayed = resistanceList.filter(n =>\n    learnedNames.includes(n)\n  );\n  const combatDisplayed = [...new Set([...(selected.combat || []), 'Unarmed'])];\n  const professionalDisplayed = selected.professional || [];\n  const magicDisplayed = allMagicNames.filter(n =>\n    learnedNames.includes(n)\n  );\n\n  // --- Equipment & silver ---\n  const equipmentAlloc = character.equipmentAlloc || {};\n  const startingSilver = Number(character.startingSilver) || 0;\n  const totalSpent = Object.entries(equipmentAlloc).reduce(\n    (sum, [name, qty]) => {\n      const item = equipmentData.find(e => e.name === name);\n      return sum + (item?.cost || 0) * qty;\n    },\n    0\n  );\n  const silverRemaining = startingSilver - totalSpent;\n  const equipmentList = Object.entries(equipmentAlloc)\n    .filter(([, qty]) => qty > 0)\n    .map(([name, qty]) => `${name} x${qty}`);\n\n  // --- Markdown export ---\n  const generateMarkdown = () => {\n    const lines = [];\n    lines.push(`# ${character.characterName || 'Character'}`);\n    lines.push(`**Player**: ${character.playerName || ''}`);\n    lines.push(`**Sex**: ${character.sex || ''}`);\n    lines.push(`**Age**: ${character.age || ''}`);\n    lines.push('');\n    ['Species','Frame','Height','Weight','Career','Culture','Social Class']\n      .forEach(label => {\n        const key = label.charAt(0).toLowerCase() +\n                    label.slice(1).replace(/ /g, '');\n        lines.push(`**${label}**: ${character[key] || ''}`);\n      });\n    lines.push('');\n    lines.push('## Characteristics');\n    ['STR','CON','SIZ','DEX','INT','POW','CHA'].forEach(stat =>\n      lines.push(`- **${stat}**: ${character[stat] || ''}`)\n    );\n    lines.push('');\n    lines.push('## Attributes');\n    ['actionPoints','damageMod','xpMod','healingRate','initiativeBonus','luckPoints','movementRate']\n      .forEach(label => {\n        const pretty = label\n          .replace(/([A-Z])/g,' $1')\n          .replace(/^./,c=>c.toUpperCase());\n        lines.push(`- **${pretty}**: ${character[label] || ''}`);\n      });\n    lines.push('');\n    lines.push('## Hit Points per Location');\n    [\n      ['Head','Head'],['Chest','Chest'],['Abdomen','Abdomen'],\n      ['Each Arm','Left Arm'],['Each Arm','Right Arm'],\n      ['Leg','Left Leg'],['Leg','Right Leg']\n    ].forEach(([k,loc]) => {\n      lines.push(`- **${loc}**: ${calcHp(character.CON, character.SIZ, k)}`);\n    });\n    lines.push('');\n    lines.push('## Background, Community & Family');\n    lines.push(character.backgroundNotes || '');\n    lines.push('');\n    lines.push('## Contacts, Allies & Enemies');\n    lines.push(character.contacts || '');\n    lines.push('');\n    lines.push('## Money & Equipment');\n    lines.push(`- **Silver Remaining**: ${silverRemaining} SP`);\n    if (equipmentList.length) {\n      lines.push('- **Equipment**:');\n      equipmentList.forEach(item => lines.push(`  - ${item}`));\n    }\n    lines.push('');\n    lines.push('## Skills');\n    if (standardDisplayed.length) {\n      lines.push('### Standard Skills');\n      standardDisplayed.forEach(n =>\n        lines.push(`- ${n}: ${character.skills?.[n] || 0}%`)\n      );\n      lines.push('');\n    }\n    if (resistancesDisplayed.length) {\n      lines.push('### Resistances');\n      resistancesDisplayed.forEach(n =>\n        lines.push(`- ${n}: ${character.skills?.[n] || 0}%`)\n      );\n      lines.push('');\n    }\n    if (combatDisplayed.length) {\n      lines.push('### Combat Skills');\n      combatDisplayed.forEach(n =>\n        lines.push(`- ${n}: ${character.skills?.[n] || 0}%`)\n      );\n      lines.push('');\n    }\n    if (professionalDisplayed.length) {\n      lines.push('### Professional Skills');\n      professionalDisplayed.forEach(n =>\n        lines.push(`- ${n}: ${character.skills?.[n] || 0}%`)\n      );\n      lines.push('');\n    }\n    if (magicDisplayed.length) {\n      lines.push('### Magic Skills');\n      magicDisplayed.forEach(n =>\n        lines.push(`- ${n}: ${character.skills?.[n] || 0}%`)\n      );\n      lines.push('');\n    }\n    return lines.join('\\n');\n  };\n\n  const exportMarkdown = () => {\n    const md = generateMarkdown();\n    const blob = new Blob([md], { type: 'text/markdown' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `${character.characterName || 'character'}.md`;\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  return (\n    <StepWrapper title=\"Review\">\n      <div className=\"flex justify-end gap-4 mb-4\">\n        <button onClick={exportMarkdown} className=\"btn btn-secondary\">\n          Export Markdown\n        </button>\n        <PDFDownloadLink\n          document={<CharacterSheetDocument character={character} />}\n          fileName={`${character.characterName || 'character'}.pdf`}\n          className=\"btn btn-secondary\"\n        >\n          {({ loading, error }) =>\n            loading ? 'Generating PDF…' : error ? 'Error' : 'Export PDF'\n          }\n        </PDFDownloadLink>\n      </div>\n\n      <div className=\"panel-parchment max-w-7xl mx-auto p-6\">\n        {/* Page 1: Header & Concept */}\n        <section className=\"grid grid-cols-4 gap-4 mb-6\">\n          {[\n            { key: 'playerName', label: 'Player' },\n            { key: 'characterName', label: 'Character' },\n            { key: 'sex', label: 'Sex' },\n            { key: 'age', label: 'Age' },\n          ].map(f => (\n            <div key={f.key}>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                {f.label}\n              </label>\n              <input\n                name={f.key}\n                value={character[f.key] || ''}\n                onChange={handleChange}\n                className=\"form-control mt-1\"\n              />\n            </div>\n          ))}\n        </section>\n\n        <section className=\"grid grid-cols-4 gap-4 mb-6\">\n          {[\n            { key: 'species', label: 'Species' },\n            { key: 'frame', label: 'Frame' },\n            { key: 'height', label: 'Height' },\n            { key: 'weight', label: 'Weight' },\n            { key: 'career', label: 'Career' },\n            { key: 'culture', label: 'Culture' },\n            { key: 'socialClass', label: 'Social Class' },\n          ].map(f => (\n            <div key={f.key}>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                {f.label}\n              </label>\n              <input\n                name={f.key}\n                value={character[f.key] || ''}\n                onChange={handleChange}\n                className=\"form-control mt-1\"\n              />\n            </div>\n          ))}\n        </section>\n\n        {/* Page 1: Characteristics & Attributes */}\n        <section className=\"grid grid-cols-2 gap-6 mb-6\">\n          <div>\n            <h3 className=\"font-semibold mb-2\">Characteristics</h3>\n            {['STR', 'CON', 'SIZ', 'DEX', 'INT', 'POW', 'CHA'].map(s => (\n              <div key={s} className=\"flex items-center mb-2\">\n                <span className=\"w-20 font-medium\">{s}</span>\n                <div className=\"bg-yellow-100 border border-yellow-300 rounded w-32 p-2 text-center\">\n                  {character[s] || ''}\n                </div>\n              </div>\n            ))}\n          </div>\n          <div>\n            <h3 className=\"font-semibold mb-2\">Attributes</h3>\n            {[\n              'actionPoints',\n              'damageMod',\n              'xpMod',\n              'healingRate',\n              'initiativeBonus',\n              'luckPoints',\n              'movementRate',\n            ].map(key => (\n              <div key={key} className=\"flex items-center mb-2\">\n                <span className=\"w-32 font-medium\">\n                  {key.replace(/([A-Z])/g, ' $1').replace(/^./, c => c.toUpperCase())}\n                </span>\n                <div className=\"bg-yellow-100 border border-yellow-300 rounded w-32 p-2 text-center\">\n                  {character[key] != null ? character[key] : ''}\n                </div>\n              </div>\n            ))}\n          </div>\n        </section>\n\n        {/* HP per Location */}\n        <section className=\"mb-6\">\n          <h3 className=\"font-semibold mb-2\">HP per Location</h3>\n          <div className=\"grid grid-cols-3 gap-4\">\n            {[\n              ['Head', 'Head'],\n              ['Chest', 'Chest'],\n              ['Abdomen', 'Abdomen'],\n              ['Each Arm', 'Left Arm'],\n              ['Each Arm', 'Right Arm'],\n              ['Leg', 'Left Leg'],\n              ['Leg', 'Right Leg'],\n            ].map(([k, label]) => (\n              <div\n                key={label}\n                className=\"flex justify-between items-center p-2 border rounded\"\n              >\n                <span>{label}</span>\n                <span>{calcHp(character.CON, character.SIZ, k)}</span>\n              </div>\n            ))}\n          </div>\n        </section>\n\n        {/* Background & Contacts */}\n        <section className=\"grid grid-cols-3 gap-6 mb-6\">\n          <div className=\"col-span-2\">\n            <label className=\"block font-semibold mb-1\">\n              Background, Community & Family\n            </label>\n            <textarea\n              name=\"backgroundNotes\"\n              value={character.backgroundNotes || ''}\n              onChange={handleChange}\n              rows={4}\n              className=\"form-control mt-1\"\n            />\n          </div>\n          <div>\n            <label className=\"block font-semibold mb-1\">\n              Contacts, Allies & Enemies\n            </label>\n            <textarea\n              name=\"contacts\"\n              value={character.contacts || ''}\n              onChange={handleChange}\n              rows={4}\n              className=\"form-control mt-1\"\n            />\n          </div>\n        </section>\n\n        {/* Silver & Equipment */}\n        <section className=\"grid grid-cols-3 gap-6 mb-6\">\n          <div>\n            <h3 className=\"font-semibold mb-2\">Silver Remaining</h3>\n            <div className=\"bg-yellow-100 border border-yellow-300 rounded w-32 p-2 text-center\">\n              {silverRemaining} SP\n            </div>\n          </div>\n          <div>\n            <h3 className=\"font-semibold mb-2\">Equipment</h3>\n            <ul className=\"list-disc list-inside\">\n              {equipmentList.length ? (\n                equipmentList.map((i, j) => <li key={j}>{i}</li>)\n              ) : (\n                <li>No equipment selected</li>\n              )}\n            </ul>\n          </div>\n        </section>\n\n        {/* Page 2: Skills */}\n        <section className=\"p-6 mb-6\">\n          <div className=\"space-y-8\">\n            {/* Standard Skills */}\n            <div>\n              <h3 className=\"font-semibold mb-2\">Standard Skills</h3>\n              <div\n                className=\"grid gap-4\"\n                style={{\n                  gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))'\n                }}\n              >\n                {standardDisplayed.map(n => (\n                  <div\n                    key={n}\n                    className=\"flex items-center p-2 border rounded min-w-0\"\n                  >\n                    <span className=\"flex-1 font-medium break-words\">{n}</span>\n                    <span className=\"flex-none ml-2\">\n                      {character.skills?.[n] || 0}%\n                    </span>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Resistances */}\n            {resistancesDisplayed.length > 0 && (\n              <div>\n                <h3 className=\"font-semibold mb-2\">Resistances</h3>\n                <div\n                  className=\"grid gap-4\"\n                  style={{\n                    gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))'\n                  }}\n                >\n                  {resistancesDisplayed.map(n => (\n                    <div\n                      key={n}\n                      className=\"flex items-center p-2 border rounded min-w-0\"\n                    >\n                      <span className=\"flex-1 font-medium break-words\">{n}</span>\n                      <span className=\"flex-none ml-2\">\n                        {character.skills?.[n] || 0}%\n                      </span>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* Combat Skills */}\n            <div>\n              <h3 className=\"font-semibold mb-2\">Combat Skills</h3>\n              <div\n                className=\"grid gap-4\"\n                style={{\n                  gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))'\n                }}\n              >\n                {combatDisplayed.length > 0 ? (\n                  combatDisplayed.map(n => (\n                    <div\n                      key={n}\n                      className=\"flex items-center p-2 border rounded min-w-0\"\n                    >\n                      <span className=\"flex-1 font-medium break-words\">{n}</span>\n                      <span className=\"flex-none ml-2\">\n                        {character.skills?.[n] || 0}%\n                      </span>\n                    </div>\n                  ))\n                ) : (\n                  <p className=\"text-sm text-gray-500\">None learned</p>\n                )}\n              </div>\n            </div>\n\n            {/* Professional Skills */}\n            <div>\n              <h3 className=\"font-semibold mb-2\">Professional Skills</h3>\n              <div\n                className=\"grid gap-4\"\n                style={{\n                  gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))'\n                }}\n              >\n                {professionalDisplayed.length > 0 ? (\n                  professionalDisplayed.map(n => (\n                    <div\n                      key={n}\n                      className=\"flex items-center p-2 border rounded min-w-0\"\n                    >\n                      <span className=\"flex-1 font-medium break-words\">{n}</span>\n                      <span className=\"flex-none ml-2\">\n                        {character.skills?.[n] || 0}%\n                      </span>\n                    </div>\n                  ))\n                ) : (\n                  <p className=\"text-sm text-gray-500\">None learned</p>\n                )}\n              </div>\n            </div>\n\n            {/* Magic Skills */}\n            {magicDisplayed.length > 0 && (\n              <div>\n                <h3 className=\"font-semibold mb-2\">Magic Skills</h3>\n                <div\n                  className=\"grid gap-4\"\n                  style={{\n                    gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))'\n                  }}\n                >\n                  {magicDisplayed.map(n => (\n                    <div\n                      key={n}\n                      className=\"flex items-center p-2 border rounded min-w-0\"\n                    >\n                      <span className=\"flex-1 font-medium break-words\">{n}</span>\n                      <span className=\"flex-none ml-2\">\n                        {character.skills?.[n] || 0}%\n                      </span>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n        </section>\n      </div>\n    </StepWrapper>\n  );\n}\n\n// --- Styles for PDF ---\nconst styles = StyleSheet.create({\n  page: { padding: 24, fontSize: 10, fontFamily: 'Helvetica' },\n  header: {\n    fontSize: 16,\n    marginBottom: 8,\n    textAlign: 'center',\n    textTransform: 'uppercase'\n  },\n  section: { marginBottom: 12 },\n  row: { flexDirection: 'row', flexWrap: 'wrap', marginBottom: 4 },\n  label: { width: '25%', fontWeight: 'bold' },\n  value: { width: '25%' },\n  halfSection: { width: '50%' },\n  skillsGrid: { flexDirection: 'row', flexWrap: 'wrap' },\n  skillItem: { width: '33%', flexDirection: 'row', marginBottom: 2 }\n});\n\n// --- PDF Document Component ---\nconst CharacterSheetDocument = ({ character }) => {\n  // recompute PDF-specific data:\n  const resistanceList = ['Brawn', 'Endurance', 'Evade', 'Willpower'];\n  const allMagicNames = [\n    ...(skillsData.folkMagic || []).map(s => s.name),\n    ...(skillsData.animism || []).map(s => s.name),\n    ...(skillsData.mysticism || []).map(s => s.name),\n    ...(skillsData.sorcery || []).map(s => s.name),\n    ...(skillsData.theism || []).map(s => s.name),\n  ];\n  const learned = character.skills ? Object.keys(character.skills) : [];\n  const standard = skillsData.standard\n    .map(s => s.name)\n    .filter(n => !resistanceList.includes(n) && n !== 'Unarmed');\n  const resistances = resistanceList.filter(n => learned.includes(n));\n  const combat = character.selectedSkills?.combat || [];\n  const prof = character.selectedSkills?.professional || [];\n  const magic = allMagicNames.filter(n => learned.includes(n));\n\n  const alloc = character.equipmentAlloc || {};\n  const startSP = Number(character.startingSilver) || 0;\n  const spent = Object.entries(alloc).reduce((sum, [n, q]) => {\n    const item = equipmentData.find(e => e.name === n);\n    return sum + (item?.cost || 0) * q;\n  }, 0);\n  const silverLeft = startSP - spent;\n  const equipList = Object.entries(alloc)\n    .filter(([, q]) => q > 0)\n    .map(([n, q]) => `${n} x${q}`);\n\n  return (\n    <Document>\n      <Page size=\"A4\" style={styles.page}>\n        <Text style={styles.header}>\n          {character.characterName || 'Character Sheet'}\n        </Text>\n\n        {/* Concept & Info */}\n        <View style={styles.section}>\n          <View style={styles.row}>\n            <Text style={styles.label}>Player:</Text>\n            <Text style={styles.value}>{character.playerName}</Text>\n            <Text style={styles.label}>Age:</Text>\n            <Text style={styles.value}>{character.age}</Text>\n            <Text style={styles.label}>Sex:</Text>\n            <Text style={styles.value}>{character.sex}</Text>\n          </View>\n          <View style={styles.row}>\n            <Text style={styles.label}>Species:</Text>\n            <Text style={styles.value}>{character.species}</Text>\n            <Text style={styles.label}>Career:</Text>\n            <Text style={styles.value}>{character.career}</Text>\n            <Text style={styles.label}>Culture:</Text>\n            <Text style={styles.value}>{character.culture}</Text>\n          </View>\n        </View>\n\n        {/* Characteristics */}\n        <View style={styles.section}>\n          <Text style={styles.label}>Characteristics:</Text>\n          <View style={styles.row}>\n            {['STR','CON','SIZ','DEX','INT','POW','CHA'].map(stat => (\n              <Text key={stat} style={[styles.halfSection, { marginRight: 8 }]}>\n                {stat}: {character[stat]}\n              </Text>\n            ))}\n          </View>\n        </View>\n\n        {/* Attributes */}\n        <View style={styles.section}>\n          <Text style={styles.label}>Attributes:</Text>\n          <View style={styles.row}>\n            {[\n              { label: 'AP', key: 'actionPoints' },\n              { label: 'DM', key: 'damageMod' },\n              { label: 'XP Mod', key: 'xpMod' },\n              { label: 'Heal', key: 'healingRate' },\n              { label: 'Init', key: 'initiativeBonus' },\n              { label: 'Luck', key: 'luckPoints' },\n              { label: 'Move', key: 'movementRate' }\n            ].map(({ label, key }) => (\n              <Text key={key} style={[styles.halfSection, { marginRight: 8 }]}>\n                {label}: {character[key]}\n              </Text>\n            ))}\n          </View>\n        </View>\n\n        {/* HP per Location */}\n        <View style={styles.section}>\n          <Text style={styles.label}>HP per Location:</Text>\n          <View style={styles.row}>\n            {[\n              ['Head','Head'],['Chest','Chest'],['Abdomen','Abdomen'],\n              ['Each Arm','Left Arm'],['Each Arm','Right Arm'],\n              ['Leg','Left Leg'],['Leg','Right Leg']\n            ].map(([k,label]) => (\n              <Text key={label} style={[styles.halfSection, { marginRight: 8 }]}>\n                {label}: {calcHp(character.CON, character.SIZ, k)}\n              </Text>\n            ))}\n          </View>\n        </View>\n\n        {/* Equipment */}\n        <View style={styles.section}>\n          <Text style={styles.label}>Silver Remaining:</Text>\n          <Text style={styles.value}>{silverLeft} SP</Text>\n          {equipList.length > 0 && (\n            <>\n              <Text style={[styles.label, { marginTop: 4 }]}>\n                Equipment:\n              </Text>\n              {equipList.map((item,i) => (\n                <Text key={i} style={styles.value}>• {item}</Text>\n              ))}\n            </>\n          )}\n        </View>\n\n        {/* Skills */}\n        <View style={styles.section}>\n          <Text style={styles.label}>Skills:</Text>\n          <View style={styles.skillsGrid}>\n            {standard.map(n => (\n              <View key={n} style={styles.skillItem}>\n                <Text style={{ width: '70%' }}>{n}</Text>\n                <Text style={{ width: '30%' }}>{character.skills?.[n]}%</Text>\n              </View>\n            ))}\n            {resistances.map(n => (\n              <View key={n} style={styles.skillItem}>\n                <Text style={{ width: '70%' }}>{n}</Text>\n                <Text style={{ width: '30%' }}>{character.skills?.[n]}%</Text>\n              </View>\n            ))}\n            {combat.map(n => (\n              <View key={n} style={styles.skillItem}>\n                <Text style={{ width: '70%' }}>{n}</Text>\n                <Text style={{ width: '30%' }}>{character.skills?.[n]}%</Text>\n              </View>\n            ))}\n            {prof.map(n => (\n              <View key={n} style={styles.skillItem}>\n                <Text style={{ width: '70%' }}>{n}</Text>\n                <Text style={{ width: '30%' }}>{character.skills?.[n]}%</Text>\n              </View>\n            ))}\n            {magic.map(n => (\n              <View key={n} style={styles.skillItem}>\n                <Text style={{ width: '70%' }}>{n}</Text>\n                <Text style={{ width: '30%' }}>{character.skills?.[n]}%</Text>\n              </View>\n            ))}\n          </View>\n        </View>\n\n        {/* Background & Contacts */}\n        <View style={styles.section}>\n          <Text style={styles.label}>Background:</Text>\n          <Text style={styles.value}>{character.backgroundNotes}</Text>\n          <Text style={[styles.label, { marginTop: 4 }]}>Contacts:</Text>\n          <Text style={styles.value}>{character.contacts}</Text>\n        </View>\n      </Page>\n    </Document>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}