{"ast":null,"code":"// src/steps/ConceptStep.jsx\nimport React from'react';import{useCharacter}from'../context/characterContext';import cultures from'../data/cultures.json';import careers from'../data/careers.json';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function ConceptStep(){const{character,updateCharacter}=useCharacter();// Simple arrays instead of t(...).map\nconst GENDERS=['Male','Female','Non‑binary','Other'];const cultureDef=cultures[character.culture]||{};const SOCIAL_CLASSES=cultureDef.socialClasses||[];const CAREER_LIST=Object.values(careers).map(c=>c.name);const onChange=field=>e=>updateCharacter({[field]:e.target.value});const rollD100=()=>Math.floor(Math.random()*100)+1;const roll4d6=()=>Array.from({length:4}).map(()=>Math.floor(Math.random()*6)+1).reduce((a,b)=>a+b,0);const rollSocialClass=()=>{const roll=rollD100();const tbl=cultureDef.socialClassTable||[];const found=tbl.find(r=>roll>=r.min&&roll<=r.max);if(found)updateCharacter({socialClass:found.name});};const rollStartingMoney=()=>{const base=roll4d6();const mult=cultureDef.moneyMultiplier||1;const socMod=(cultureDef.socialClassModifiers||{})[character.socialClass]||1;updateCharacter({silver:Math.round(base*mult*socMod)});};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Character Name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-input\",value:character.name||'',onChange:onChange('name')})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Player Name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-input\",value:character.player||'',onChange:onChange('player')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Gender\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",value:character.gender||'',onChange:onChange('gender'),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select\\u2026\"}),GENDERS.map(g=>/*#__PURE__*/_jsx(\"option\",{value:g,children:g},g))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Age\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-input\",value:character.age||'',onChange:onChange('age')})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Culture/Background\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",value:character.culture||'',onChange:onChange('culture'),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select\\u2026\"}),Object.entries(cultures).map(_ref=>{let[key,c]=_ref;return/*#__PURE__*/_jsx(\"option\",{value:key,children:c.name},key);})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Career\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",value:character.career||'',onChange:onChange('career'),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select\\u2026\"}),CAREER_LIST.map(name=>/*#__PURE__*/_jsx(\"option\",{value:name,children:name},name))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Social Class\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"select\",{className:\"form-select flex-1\",value:character.socialClass||'',onChange:onChange('socialClass'),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select\\u2026\"}),SOCIAL_CLASSES.map(sc=>/*#__PURE__*/_jsx(\"option\",{value:sc,children:sc},sc))]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"px-3 py-1 bg-yellow-500 text-white rounded\",onClick:rollSocialClass,children:\"Roll\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Starting Money (silver)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-input w-24\",value:character.silver||'',readOnly:true}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"px-3 py-1 bg-yellow-500 text-white rounded\",onClick:rollStartingMoney,children:\"Roll\"})]})]})]});}","map":{"version":3,"names":["React","useCharacter","cultures","careers","jsx","_jsx","jsxs","_jsxs","ConceptStep","character","updateCharacter","GENDERS","cultureDef","culture","SOCIAL_CLASSES","socialClasses","CAREER_LIST","Object","values","map","c","name","onChange","field","e","target","value","rollD100","Math","floor","random","roll4d6","Array","from","length","reduce","a","b","rollSocialClass","roll","tbl","socialClassTable","found","find","r","min","max","socialClass","rollStartingMoney","base","mult","moneyMultiplier","socMod","socialClassModifiers","silver","round","className","children","player","gender","g","type","age","entries","_ref","key","career","sc","onClick","readOnly"],"sources":["/workspaces/mythras-char-gen/src/steps/ConceptStep.jsx"],"sourcesContent":["// src/steps/ConceptStep.jsx\nimport React from 'react';\nimport { useCharacter } from '../context/characterContext';\nimport cultures from '../data/cultures.json';\nimport careers from '../data/careers.json';\n\nexport function ConceptStep() {\n  const { character, updateCharacter } = useCharacter();\n\n  // Simple arrays instead of t(...).map\n  const GENDERS = ['Male', 'Female', 'Non‑binary', 'Other'];\n  const cultureDef = cultures[character.culture] || {};\n  const SOCIAL_CLASSES = cultureDef.socialClasses || [];\n  const CAREER_LIST = Object.values(careers).map(c => c.name);\n\n  const onChange = field => e =>\n    updateCharacter({ [field]: e.target.value });\n\n  const rollD100 = () => Math.floor(Math.random() * 100) + 1;\n  const roll4d6 = () =>\n    Array.from({ length: 4 })\n      .map(() => Math.floor(Math.random() * 6) + 1)\n      .reduce((a, b) => a + b, 0);\n\n  const rollSocialClass = () => {\n    const roll = rollD100();\n    const tbl = cultureDef.socialClassTable || [];\n    const found = tbl.find(r => roll >= r.min && roll <= r.max);\n    if (found) updateCharacter({ socialClass: found.name });\n  };\n\n  const rollStartingMoney = () => {\n    const base = roll4d6();\n    const mult = cultureDef.moneyMultiplier || 1;\n    const socMod =\n      (cultureDef.socialClassModifiers || {})[character.socialClass] || 1;\n    updateCharacter({ silver: Math.round(base * mult * socMod) });\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Name/Player */}\n      <div>\n        <label>Character Name</label>\n        <input\n          className=\"form-input\"\n          value={character.name || ''}\n          onChange={onChange('name')}\n        />\n      </div>\n      <div>\n        <label>Player Name</label>\n        <input\n          className=\"form-input\"\n          value={character.player || ''}\n          onChange={onChange('player')}\n        />\n      </div>\n\n      {/* Gender / Age */}\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div>\n          <label>Gender</label>\n          <select\n            className=\"form-select\"\n            value={character.gender || ''}\n            onChange={onChange('gender')}\n          >\n            <option value=\"\">Select…</option>\n            {GENDERS.map(g => (\n              <option key={g} value={g}>\n                {g}\n              </option>\n            ))}\n          </select>\n        </div>\n        <div>\n          <label>Age</label>\n          <input\n            type=\"number\"\n            className=\"form-input\"\n            value={character.age || ''}\n            onChange={onChange('age')}\n          />\n        </div>\n      </div>\n\n      {/* Culture & Career */}\n      <div>\n        <label>Culture/Background</label>\n        <select\n          className=\"form-select\"\n          value={character.culture || ''}\n          onChange={onChange('culture')}\n        >\n          <option value=\"\">Select…</option>\n          {Object.entries(cultures).map(([key, c]) => (\n            <option key={key} value={key}>\n              {c.name}\n            </option>\n          ))}\n        </select>\n      </div>\n      <div>\n        <label>Career</label>\n        <select\n          className=\"form-select\"\n          value={character.career || ''}\n          onChange={onChange('career')}\n        >\n          <option value=\"\">Select…</option>\n          {CAREER_LIST.map(name => (\n            <option key={name} value={name}>\n              {name}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      {/* Social Class */}\n      <div>\n        <label>Social Class</label>\n        <div className=\"flex items-center space-x-2\">\n          <select\n            className=\"form-select flex-1\"\n            value={character.socialClass || ''}\n            onChange={onChange('socialClass')}\n          >\n            <option value=\"\">Select…</option>\n            {SOCIAL_CLASSES.map(sc => (\n              <option key={sc} value={sc}>\n                {sc}\n              </option>\n            ))}\n          </select>\n          <button\n            type=\"button\"\n            className=\"px-3 py-1 bg-yellow-500 text-white rounded\"\n            onClick={rollSocialClass}\n          >\n            Roll\n          </button>\n        </div>\n      </div>\n\n      {/* Starting Money */}\n      <div>\n        <label>Starting Money (silver)</label>\n        <div className=\"flex items-center space-x-2\">\n          <input\n            type=\"number\"\n            className=\"form-input w-24\"\n            value={character.silver || ''}\n            readOnly\n          />\n          <button\n            type=\"button\"\n            className=\"px-3 py-1 bg-yellow-500 text-white rounded\"\n            onClick={rollStartingMoney}\n          >\n            Roll\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}